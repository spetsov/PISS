@model PISS.Models.Diploma

<h1>Diploma of @Model.Student.Email</h1>

@if (this.Model.АssignmentFile != null && this.Model.АssignmentFile != null)
{
    <h2>Assignment</h2>
        
    <h3>Document:</h3>
    <a href='@Url.Action("Index", "Download", new { id = this.Model.АssignmentFile.Id })' target = "_blank">@this.Model.АssignmentFile.FileName</a>
    
    if (this.Model.Approved == PISS.Models.ApprovedStatus.Unapproved)
    {
    <form method="post" action='@Url.Action("ApproveAssignment", this.Model)' style="width:45%">
        <div>

            @Html.LabelFor(m => m.ReviewNotes)
            @Html.TextAreaFor(m => m.ReviewNotes)
            <p>
                <input type="submit" value="Approve" class="k-button" />
            </p>
        </div>
    </form>
    }
}

@if (this.Model.Thesis != null && this.Model.Thesis.SourceCodeFile != null)
{
    <h2>Thesis</h2>
        
    <h3>Source code:</h3>
    <a href='@Url.Action("Index", "Download", new { id = this.Model.Thesis.SourceCodeFile.Id })' target = "_blank">@this.Model.Thesis.SourceCodeFile.FileName</a>
    
    <form method="post" action='@Url.Action("UpdateDiploma", this.Model)' style="width:45%">
        <fieldset>
            <legend>Upload your thesis</legend>
            <ol>
                <li>
                    @Html.LabelFor(m => m.Grade)
                    @Html.TextBoxFor(m => m.Grade)
                </li>
                <li>
                    @Html.LabelFor(m => m.DefenceDate)
                    @Html.Kendo().DateTimePickerFor(m => m.DefenceDate).Value(DateTime.Now)
                </li>
                <li>
                    <h3>Upload your review file:</h3>
                    @(Html.Kendo().Upload()
            .Name("files").Multiple(false))
                </li>
            </ol>
            <input type="submit" value="Submit" class="k-button" />
        </fieldset>
    </form>
    
    if(this.Model.ReviewFile != null)
    {
        <h3>Review:</h3>
        <a href='@Url.Action("Index", "Download", new { id = this.Model.ReviewFile.Id })' target = "_blank">@this.Model.ReviewFile.FileName</a>
    }
}

